{"version":3,"file":"credentials-DjASd8tf.js","sources":["../../../../pages/credentials.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col min-h-screen\">\n    <Header />\n    <main class=\"flex-1 bg-[#ffffff] dark:bg-[#ffffff] py-8 px-6 md:px-8\">\n      <div class=\"max-w-3xl mx-auto bg-white dark:bg-[#10673b] rounded-lg shadow p-6\">\n        <h2 class=\"text-2xl font-bold mb-4 dark:text-white\">Create Credential</h2>\n        <!-- <p class=\"text-red-400 text-sm\"> Required credential missing. Create Credential </p> -->\n        <form @submit.prevent=\"createCredential\">\n          <div class=\"mb-4\">\n            <label class=\"block text-gray-700 dark:text-gray-300 mb-2\">Name</label>\n            <input v-model=\"customerName\" type=\"text\" required class=\"w-full p-2 border rounded\" />\n          </div>\n          <div class=\"mb-4\">\n            <label class=\"block text-gray-700 dark:text-gray-300 mb-2\">Country Code</label>\n            <input v-model=\"countryCode\" type=\"text\" maxlength=\"2\" required class=\"w-full p-2 border rounded\" />\n          </div>\n          <button type=\"submit\" class=\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 dark:text-white\">\n            Create Credential\n          </button>\n        </form>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useStore } from '~/data_providers/data.js';\nimport Header from '~/components/Header.vue';\n\nconst router = useRouter();\nconst { state, addCredential } = useStore();\nconst customerName = ref('');\nconst countryCode = ref('');\n\nconst createCredential = async () => {\n  const subjectDid = state.customerDid.uri;\n  const credential = await fetch(\n    `https://mock-idv.tbddev.org/kcc?name=${customerName.value}&country=${countryCode.value}&did=${subjectDid}`\n  ).then((r) => r.text());\n\n  addCredential(credential);\n\n  router.push('/donate');\n};\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA+Be,cAAY;AACM,aAAW;AAC5C,UAAM,eAAe,IAAI,EAAE;AAC3B,UAAM,cAAc,IAAI,EAAE;;;;;;;;;;;;;;"}