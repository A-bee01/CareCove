{"version":3,"file":"login-BIwPWivB.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\n    <div class=\"flex flex-col min-h-screen\">\n      <Header />\n      <main class=\"flex-1 bg-[#ffffff] dark:bg-[#ffffff] py-8 px-6 md:px-8\">\n        <div class=\"max-w-3xl mx-auto bg-white dark:bg-[#10673b] rounded-lg shadow p-6\">\n          <h2 class=\"text-2xl font-bold mb-4 dark:text-white\">Login / Register</h2>\n  \n          <form @submit.prevent=\"loginWithEmail\">\n            <div class=\"mb-4\">\n              <label class=\"block text-gray-700 dark:text-gray-300 mb-2\">Email</label>\n              <input v-model=\"email\" type=\"email\" required class=\"w-full p-2 border rounded\" />\n            </div>\n            <div class=\"mb-4\">\n              <label class=\"block text-gray-700 dark:text-gray-300 mb-2\">Password</label>\n              <input v-model=\"password\" type=\"password\" required class=\"w-full p-2 border rounded\" />\n            </div>\n            <button type=\"submit\" class=\"inline-flex items-center justify-center rounded-md text-sm font-medium bg-blue-500 text-white hover:bg-blue-600 h-10 px-4 py-2\">\n             Continue\n            </button>\n          </form>\n  \n          <div class=\"mt-4\">\n            <button @click=\"loginWithGoogle\" class=\"inline-flex items-center justify-center rounded-md text-sm font-medium bg-red-500 text-white hover:bg-red-600 h-10 px-4 py-2\">\n             Continue with Google\n            </button>\n          </div>\n        </div>\n      </main>\n    </div>\n  </template>\n  \n  <script setup>\n  import { ref } from 'vue';\n  import { useRouter } from 'vue-router';\n  import { signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, getAuth } from 'firebase/auth';\n  import Header from '~/components/Header.vue';\n  \n  const router = useRouter();\n  const auth = getAuth();\n  const email = ref('');\n  const password = ref('');\n  \n  const loginWithEmail = async () => {\n    try {\n      await signInWithEmailAndPassword(auth, email.value, password.value);\n      router.push('/dashboard'); // Redirect after successful login\n    } catch (error) {\n      console.error('Error logging in with email/password:', error);\n      if (error.code === 'auth/user-not-found') {\n        console.error('User not found. Please sign up.');\n        await createUserWithEmailAndPassword(auth, email.value, password.value);\n        router.push('/dashboard'); // Redirect after successful signup\n      }\n    }\n  };\n  \n  const loginWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      await signInWithPopup(auth, provider);\n      router.push('/dashboard'); // Redirect after successful login\n    } catch (error) {\n      console.error('Error logging in with Google:', error);\n    }\n  };\n  </script>\n  "],"names":[],"mappings":";;;;;;;;;;AAqCiB,cAAY;AACd,YAAU;AACvB,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,WAAW,IAAI,EAAE;;;;;;;;;;;;;;"}